<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Technical Geeks">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxy | Add Students</title>
    <!--Bootstrap File Link-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <!--CSS File Link-->
    <link rel="stylesheet" href="css/addstudent.css">
    <link rel="stylesheet" href="css/lecture.css">

    <!-- Awesome Fonts Link to StyleSheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
</head>

<body>

    <main>

        <div class="container">
            <form id="form" class="form">
                <h2>Add Students</h2>
                <div class="form-control">
                    <label for="name">Name : </label>
                    <input type="text" id="studentName" name="name" value="test" placeholder="Enter Name">
                </div>
                <br><br>
                <div class="form-control">
                    <label for="clas">Class : </label>
                    <input type="text" id="clas" name="clas" value="TE" placeholder="Enter Class">
                </div>
                <br><br>
                <div class="form-control">
                    <label for="div">Division : </label>
                    <input type="text" id="div" name="div" value="A" placeholder="Enter Division">
                </div>
                <br><br>
                <div class="form-control">
                    <label for="roll">Roll : </label>
                    <input type="text" id="roll" name="roll" value="1" placeholder="Enter Name">
                </div>
                <br><br>
                <button onclick="test()">Add</button>
                <!-- <button type="submit">Add</button> -->
            </form>


        </div>
        <p id="output"></p>

    </main>
    <footer class="footer">
        <div class="copyright">
            <a href="LICENSE" target="_blank">
                &copy; 2020 technicalgeeks
            </a>
        </div>
        <div class="footer-links">
            <a href="https://facebook.com/" target="_blank">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="https://instagram.com/" target="_blank">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="mailto:technicalgeeks20@gmail.com" target="_blank" style="text-decoration: none">
                <i class="far fa-envelope"></i>
            </a>
        </div>
    </footer>

    <!-- <script src="javascript/addstudent.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>

    <script>
        function test() {
            var studentName = document.getElementById('studentName').value;
            var className = document.getElementById('clas').value;
            var div = document.getElementById('div').value;
            var rollNo = document.getElementById('roll').value;

            // var formData= document.getElementById('form')
            // console.log(formData);
            var myData = {
                'studentName': studentName,
                'className': className,
                'div': div,
                'rollNo': rollNo,
            }
            alert(JSON.stringify(myData) )
            // Turn the data object into an array of URL-encoded key/value pairs.
            let urlEncodedData = "", urlEncodedDataPairs = [], name;
            // for (name in myData) {
            //     urlEncodedDataPairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(myData[name]));
            // }
            urlEncodedDataPairs=encodeURIComponent(JSON.stringify(myData))

            // alert(urlEncodedDataPairs)

            // console.log(data);
            // var sendString = JSON.stringify(data);
            // alert(sendString);
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // console.log("<%= output %>")
                    // console.log('test data', this.responseText);
                    // outputText = document.getElementById('output');
                    // outputText.innerText += this.responseText;
                }
            };
            xhttp.open("POST", "http://localhost:8081/addStudent", true);
            // xhttp.send()
            xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            xhttp.send(urlEncodedDataPairs);
        }
    </script>

    <!-- <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-app.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-app.js"></script> -->

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <!-- <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-analytics.js"></script> -->

    <!-- Add Firebase products that you want to use -->
    <!-- <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-auth.js"></script> -->

    <script src="javascript/template.js"></script>
</body>

</html>